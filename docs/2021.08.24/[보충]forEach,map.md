# [보충] forEach , map 메서드란?

## *📌 고차함수란?*
자신의 매개변수에 함수((함수값) == 콜백함수 )를 전달받는 함수를 말한다.

---

##  *📌 forEach 란?*
배열이라는 것의 배열요소를 탐색할 때, 우리는 기본적으로 for 반복문을 사용한다. 그 때, for문을 사용하고 싶지 않다면 for문을 대체 할 수 있는 것이 forEach문이다. forEach문 또한 고차함수로써 콜백함수를 사용한다. 

콜백함수의 내부를 살펴보면 아래와 같다.
```javascript
a = [10,11,12,13,14,15];
a.forEach(fuction (v , i){
    console.log(v,i,);
},[1,2])
```
콜백함수의 매개변수로 들어가는 v에는 (forEach를 호출한 a 배열요소의) 값이 넘어오게 되고 ,i 에는 인덱스가 넘어오게 된다. 
여기서 [1,2]는 thisArg를 뜻한다. 
**cf. thisArg란 ?** 생략 가능하고 , 콜백함수 내에서 this 로 사용할 애를 임의로 전달받는 역할을 한다.  




---



## 📌  *map 이란?*
원본 배열을 하나하나 탐색하면서 이 요소들을 이용하여 새로운 배열을 생성하는 메서드이다. 새로운 배열을 생성하여 return 해서 answer에 넣어주는 역할을 한다. forEach 문과 마찬가지로 **고차함수**이다.
아래코드는 콜백함수의 내부이다.

```javascript
a = [10,11,12,13,14,15];
let answer = a.map(function(v,i){
    retrun v*v;
},[1,2]);
console.log(answer);
```
**출력 => [100,121,144,169,196,225]**


작동원리를 간단히 설명해보자면 아래와 같다.(map메서드 내부의 원리)

    1. list라고 하는 빈배열을 하나 생성하여 for문을 돌면서 탐색한다. 
    2. 콜백함수를 원본배열의 값과 인덱스를 v 와 i에 넘겨주고 
    3. 여기서 return 된 값을 list배열에 넘겨주는 것이다. 

결국 정리를 해보자면 , list 배열의 요소들은 return 된 값들로 이루어진 배열이라는 것이다. 콜백함수가 return 한 그 값을 원소로 하는 새로운 배열을 하나 생성하고 , 생성된 배열의 값을 return 해주는 것이다. 

그런데 여기서 가장 중요한 것은 
## **생성된 배열의 길이가 원본배열의 길이와 동일하다는 것이다.**

가령, 내가 짝수만 출력하고 싶어 if문을 사용하여 조건을 달아주었다고 해보자.
```javascript
a = [10,11,12,13,14,15];
let answer = a.map(function(v,i){
    if(v % 2 === 0) return v;
},[1,2]);
console.log(answer);

```
❌ 이때 결과로 [10,12,14] 이렇게 세가지 요소가 출력될 것 같지만 그렇지 않다. 

결과로 출력되는 요소는 조건에 부합하는 10,12,14 와 제대로 출력되진 못한 요소들이 **undefined**로 바뀌어 함께 출력되게 된다. 

=> [10,undefined,12,undefined,14,undefined] => ⭕️


